<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html lang="zh">
	<head>
		<meta charset="utf-8" />
		<title>Bomb of Explode</title>
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="css/app.css" />
		<link rel="stylesheet" href="css/kico.css" />
		<script src="js/jquery-3.6.0.js"></script>
		<script src="js/kico.js"></script>
	</head>
	<body class="wrap">
		<!--[if lt IE 7]>
			<p class="browsehappy">
				You are using an <strong>outdated</strong> browser. Please
				<a href="#">upgrade your browser</a> to improve your experience.
			</p>
		<![endif]-->
		<h1>User Register</h1>
		<div id="query">
			<form>
				<div>
					<label for="username">Username</label>
					<input type="text" id="username" />
				</div>
				<div>
					<label for="password">Password</label>
					<input type="text" id="password" />
				</div>
				<div>
					<input
						class="btn green"
						type="button"
						value="Register"
						id="btn-submit"
					/>
					<p id="fetch-result"></p>
				</div>
			</form>
		</div>
	</body>
	<script src="js/bomb.js"></script>
	<script>
		$("#btn-submit").on("click", () => {
			$.ajax({
				url: `${BOMB.endpoint}/bomb/user/register`,
                method: 'post',
				data: JSON.stringify({
					username: $("#username").val(),
					password: $("#password").val(),
				}),
				success: (data) => {
                    $("#fetch-result").html("Success!");
				},
				error: (response) => {
                    let data = response.responseJSON
                    $("#fetch-result").html(`${data.error}`);
				}
			});
		});
	</script>
</html>
